function e(){"undefined"!=typeof gsap&&"undefined"!=typeof Draggable&&"undefined"!=typeof InertiaPlugin?(gsap.registerPlugin(Draggable,InertiaPlugin),function(){if(!document.querySelector('[data-slider="list"]'))return;const e=gsap.utils.toArray('[data-slider="slide"]'),t=document.querySelector('[data-slider="button-next"]'),n=document.querySelector('[data-slider="button-prev"]'),r=document.querySelector('[data-slide-count="total"]'),a=document.querySelector('[data-slide-count="step"]'),o=a?.parentElement;let s;const i=e.length;r&&(r.textContent=i<10?`0${i}`:i),o&&a&&(o.innerHTML="",e.forEach((e,t)=>{const n=a.cloneNode(!0);n.textContent=t+1<10?`0${t+1}`:t+1,o.appendChild(n)}));const d=o?o.querySelectorAll('[data-slide-count="step"]'):[],l=window.matchMedia("(min-width: 992px)");let c=l.matches;l.addEventListener("change",e=>{c=e.matches,u&&g(u,p,!1)});let u=null,p=0;function g(t,n,r=!0){s&&s.classList.remove("active");const a=function(t){return c?t.nextElementSibling||e[0]:t}(t);a.classList.add("active"),s=a,d.length&&(r?gsap.to(d,{y:-100*n+"%",ease:"power3",duration:.45}):gsap.set(d,{y:-100*n+"%"}))}const f=function(e,t){let n;return e=gsap.utils.toArray(e),t=t||{},gsap.context(()=>{const r=t.onChange;let a=0;const o=gsap.timeline({repeat:t.repeat,onUpdate:r&&function(){const t=o.closestIndex();a!==t&&(a=t,r(e[t],t))},paused:t.paused,defaults:{ease:"none"},onReverseComplete:()=>o.totalTime(o.rawTime()+100*o.duration())}),s=e.length,i=e[0].offsetLeft,d=[],l=[],c=[],u=[];let p=0,g=!1;const f=t.center,h=100*(t.speed||1),m=!1===t.snap?e=>e:gsap.utils.snap(t.snap||1);let x=0;const w=!0===f?e[0].parentNode:gsap.utils.toArray(f)[0]||e[0].parentNode;let y;const v=()=>e[s-1].offsetLeft+u[s-1]/100*l[s-1]-i+c[0]+e[s-1].offsetWidth*gsap.getProperty(e[s-1],"scaleX")+(parseFloat(t.paddingRight)||0),b=()=>{let t,n=w.getBoundingClientRect();e.forEach((e,r)=>{l[r]=parseFloat(gsap.getProperty(e,"width","px")),u[r]=m(parseFloat(gsap.getProperty(e,"x","px"))/l[r]*100+gsap.getProperty(e,"xPercent")),t=e.getBoundingClientRect(),c[r]=t.left-(r?n.right:n.left),n=t}),gsap.set(e,{xPercent:e=>u[e]}),y=v()},P=()=>{x=f?o.duration()*(w.offsetWidth/2)/y:0,f&&d.forEach((e,t)=>{d[t]=T(o.labels[`label${t}`]+o.duration()*l[t]/2/y-x)})},L=(e,t,n)=>{let r,a=e.length,o=1e10,s=0;for(;a--;)r=Math.abs(e[a]-t),r>n/2&&(r=n-r),r<o&&(o=r,s=a);return s},E=()=>{let t,n,r,a,p;for(o.clear(),t=0;t<s;t++)n=e[t],r=u[t]/100*l[t],a=n.offsetLeft+r-i+c[0],p=a+l[t]*gsap.getProperty(n,"scaleX"),o.to(n,{xPercent:m((r-p)/l[t]*100),duration:p/h},0).fromTo(n,{xPercent:m((r-p+y)/l[t]*100)},{xPercent:u[t],duration:(r-p+y-r)/h,immediateRender:!1},p/h).add(`label${t}`,a/h),d[t]=a/h;T=gsap.utils.wrap(0,o.duration())},I=e=>{const t=o.progress();o.progress(0,!0),b(),e&&E(),P(),e&&o.draggable?o.time(d[p],!0):o.progress(t,!0)},C=()=>I(!0);let T,S;function D(e,t){t=t||{},Math.abs(e-p)>s/2&&(e+=e>p?-s:s);const n=gsap.utils.wrap(0,s,e);let r=d[n];return r>o.time()!=e>p&&e!==p&&(r+=o.duration()*(e>p?1:-1)),(r<0||r>o.duration())&&(t.modifiers={time:T}),p=n,t.overwrite=!0,gsap.killTweensOf(S),0===t.duration?o.time(T(r)):o.tweenTo(r,t)}if(gsap.set(e,{x:0}),b(),E(),P(),window.addEventListener("resize",C),o.toIndex=(e,t)=>D(e,t),o.closestIndex=e=>{const t=L(d,o.time(),o.duration());return e&&(p=t,g=!1),t},o.current=()=>g?o.closestIndex(!0):p,o.next=e=>D(o.current()+1,e),o.previous=e=>D(o.current()-1,e),o.times=d,o.progress(1,!0).progress(0,!0),t.reversed&&(o.vars.onReverseComplete(),o.reverse()),t.draggable&&"function"==typeof Draggable){S=document.createElement("div");const t=gsap.utils.wrap(0,1);let n,r,a,s,i;const l=()=>o.closestIndex(!0);"undefined"==typeof InertiaPlugin&&console.warn("InertiaPlugin required for momentum-based scrolling and snapping. https://greensock.com/club");const c=Draggable.create(S,{trigger:e[0].parentNode,type:"x",onPressInit(){const e=this.x;gsap.killTweensOf(o),i=!o.paused(),o.pause(),r=o.progress(),I(),n=1/y,s=r/-n-e,gsap.set(S,{x:r/-n})},onDrag(){o.progress(t(r+(this.startX-this.x)*n))},onThrowUpdate(){o.progress(t(r+(this.startX-this.x)*n))},overshootTolerance:0,inertia:!0,snap(e){if(Math.abs(r/-n-this.x)<10)return a+s;const t=-e*n*o.duration(),i=T(t);let l=d[L(d,i,o.duration())]-i;return Math.abs(l)>o.duration()/2&&(l+=l<0?o.duration():-o.duration()),a=(t+l)/o.duration()/-n,a},onRelease(){l(),this.isThrowing&&(g=!0)},onThrowComplete:()=>{l(),i&&o.play()}})[0];o.draggable=c}return o.closestIndex(!0),a=p,r&&r(e[p],p),n=o,()=>window.removeEventListener("resize",C)}),n}(e,{paused:!0,draggable:!0,center:!1,onChange:(e,t)=>{u=e,p=t,g(e,t,!0)}});e.forEach((e,t)=>{e.addEventListener("click",()=>{e.classList.contains("active")||f.toIndex(function(e){return c?e-1:e}(t),{ease:"power3",duration:.725})})}),t?.addEventListener("click",()=>f.next({ease:"power3",duration:.725})),n?.addEventListener("click",()=>f.previous({ease:"power3",duration:.725})),!u&&e[0]&&(u=e[0],p=0,g(u,p,!1))}()):console.warn("⚠️ GSAP, Draggable, or InertiaPlugin not found. Make sure they are loaded.")}"undefined"!=typeof window&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),window.initDraggableInfiniteSlider=e);
