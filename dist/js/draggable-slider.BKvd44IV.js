function e(){"undefined"!=typeof gsap&&"undefined"!=typeof Draggable&&"undefined"!=typeof InertiaPlugin?(gsap.registerPlugin(Draggable,InertiaPlugin),function(){if(!document.querySelector('[data-slider="list"]'))return;const e=gsap.utils.toArray('[data-slider="slide"]');if(0===e.length)return;const t=document.querySelector('[data-slider="button-next"]'),n=document.querySelector('[data-slider="button-prev"]'),r=document.querySelector('[data-slide-count="total"]'),a=document.querySelector('[data-slide-count="step"]'),o=a?.parentElement;let s;const i=e.length;r&&(r.textContent=i<10?`0${i}`:i),o&&a&&(o.innerHTML="",e.forEach((e,t)=>{const n=a.cloneNode(!0);n.textContent=t+1<10?`0${t+1}`:t+1,o.appendChild(n)}));const d=o?o.querySelectorAll('[data-slide-count="step"]'):[],l=window.matchMedia("(min-width: 992px)");let c=l.matches;l.addEventListener("change",e=>{c=e.matches,u&&g(u,p,!1)});let u=null,p=0;function g(t,n,r=!0){s&&s.classList.remove("active");const a=function(t){return c?t.nextElementSibling||e[0]:t}(t);a.classList.add("active"),s=a,d.length&&(r?gsap.to(d,{y:-100*n+"%",ease:"power3",duration:.45}):gsap.set(d,{y:-100*n+"%"}))}const f=function(e,t){e=gsap.utils.toArray(e);const n=(t=t||{}).onChange;let r=0;const a=gsap.timeline({repeat:t.repeat,onUpdate:n&&function(){const t=a.closestIndex();r!==t&&(r=t,n(e[t],t))},paused:t.paused,defaults:{ease:"none"},onReverseComplete:()=>a.totalTime(a.rawTime()+100*a.duration())}),o=e.length,s=e[0].offsetLeft,i=[],d=[],l=[],c=[];let u=0,p=!1;const g=t.center,f=100*(t.speed||1),h=!1===t.snap?e=>e:gsap.utils.snap(t.snap||1);let m=0;const x=!0===g?e[0].parentNode:gsap.utils.toArray(g)[0]||e[0].parentNode;let w;const y=()=>e[o-1].offsetLeft+c[o-1]/100*d[o-1]-s+l[0]+e[o-1].offsetWidth*gsap.getProperty(e[o-1],"scaleX")+(parseFloat(t.paddingRight)||0),b=()=>{let t,n=x.getBoundingClientRect();e.forEach((e,r)=>{d[r]=parseFloat(gsap.getProperty(e,"width","px")),c[r]=h(parseFloat(gsap.getProperty(e,"x","px"))/d[r]*100+gsap.getProperty(e,"xPercent")),t=e.getBoundingClientRect(),l[r]=t.left-(r?n.right:n.left),n=t}),gsap.set(e,{xPercent:e=>c[e]}),w=y()},v=()=>{m=g?a.duration()*(x.offsetWidth/2)/w:0,g&&i.forEach((e,t)=>{i[t]=C(a.labels[`label${t}`]+a.duration()*d[t]/2/w-m)})},P=(e,t,n)=>{let r,a=e.length,o=1e10,s=0;for(;a--;)r=Math.abs(e[a]-t),r>n/2&&(r=n-r),r<o&&(o=r,s=a);return s},I=()=>{let t,n,r,u,p;for(a.clear(),t=0;t<o;t++)n=e[t],r=c[t]/100*d[t],u=n.offsetLeft+r-s+l[0],p=u+d[t]*gsap.getProperty(n,"scaleX"),a.to(n,{xPercent:h((r-p)/d[t]*100),duration:p/f},0).fromTo(n,{xPercent:h((r-p+w)/d[t]*100)},{xPercent:c[t],duration:(r-p+w-r)/f,immediateRender:!1},p/f).add(`label${t}`,u/f),i[t]=u/f;C=gsap.utils.wrap(0,a.duration())},L=e=>{const t=a.progress();a.progress(0,!0),b(),e&&I(),v(),e&&a.draggable?a.time(i[u],!0):a.progress(t,!0)},E=()=>L(!0);let C,T;function S(e,t){t=t||{},Math.abs(e-u)>o/2&&(e+=e>u?-o:o);const n=gsap.utils.wrap(0,o,e);let r=i[n];return r>a.time()!=e>u&&e!==u&&(r+=a.duration()*(e>u?1:-1)),(r<0||r>a.duration())&&(t.modifiers={time:C}),u=n,t.overwrite=!0,gsap.killTweensOf(T),0===t.duration?a.time(C(r)):a.tweenTo(r,t)}gsap.set(e,{x:0}),b(),I(),v(),window.addEventListener("resize",E),a.toIndex=(e,t)=>S(e,t),a.closestIndex=e=>{const t=P(i,a.time(),a.duration());return e&&(u=t,p=!1),t},a.current=()=>p?a.closestIndex(!0):u,a.next=e=>S(a.current()+1,e),a.previous=e=>S(a.current()-1,e),a.times=i,a.progress(1,!0).progress(0,!0),t.reversed&&(a.vars.onReverseComplete(),a.reverse());if(t.draggable&&"function"==typeof Draggable){T=document.createElement("div");const t=gsap.utils.wrap(0,1);let n,r,o,s,d;const l=()=>a.closestIndex(!0);"undefined"==typeof InertiaPlugin&&console.warn("InertiaPlugin required for momentum-based scrolling and snapping. https://greensock.com/club");const c=Draggable.create(T,{trigger:e[0].parentNode,type:"x",onPressInit(){const e=this.x;gsap.killTweensOf(a),d=!a.paused(),a.pause(),r=a.progress(),L(),n=1/w,s=r/-n-e,gsap.set(T,{x:r/-n})},onDrag(){a.progress(t(r+(this.startX-this.x)*n))},onThrowUpdate(){a.progress(t(r+(this.startX-this.x)*n))},overshootTolerance:0,inertia:!0,snap(e){if(Math.abs(r/-n-this.x)<10)return o+s;const t=-e*n*a.duration(),d=C(t);let l=i[P(i,d,a.duration())]-d;return Math.abs(l)>a.duration()/2&&(l+=l<0?a.duration():-a.duration()),o=(t+l)/a.duration()/-n,o},onRelease(){l(),this.isThrowing&&(p=!0)},onThrowComplete:()=>{l(),d&&a.play()}})[0];a.draggable=c}return a.closestIndex(!0),r=u,n&&n(e[u],u),a}(e,{paused:!0,draggable:!0,center:!1,onChange:(e,t)=>{u=e,p=t,g(e,t,!0)}});e.forEach((e,t)=>{e.addEventListener("click",()=>{e.classList.contains("active")||f.toIndex(function(e){return c?e-1:e}(t),{ease:"power3",duration:.725})})}),t?.addEventListener("click",()=>f.next({ease:"power3",duration:.725})),n?.addEventListener("click",()=>f.previous({ease:"power3",duration:.725})),!u&&e[0]&&(u=e[0],p=0,g(u,p,!1))}()):console.warn("⚠️ GSAP, Draggable, or InertiaPlugin not found. Make sure they are loaded.")}"undefined"!=typeof window&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),window.initDraggableInfiniteSlider=e);
