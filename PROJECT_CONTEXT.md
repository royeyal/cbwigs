# Project Context

## Overview

This project provides custom JavaScript and CSS for a **Webflow website**. The code is built locally, then deployed and served via **Cloudflare Workers**.

## Architecture

### Webflow Integration

- This is a **Webflow project** - the HTML structure and base styles are managed in Webflow
- Custom JavaScript files are injected into Webflow pages via custom code embeds
- Files are hosted externally (via Cloudflare) and referenced in Webflow

### Global Dependencies

The following libraries are **already loaded globally** on the Webflow site:

- **GSAP** (GreenSock Animation Platform) - available as `gsap` global
- **GSAP Flip Plugin** - already registered, available as `Flip` global
- **GSAP ScrollTrigger Plugin** - already registered

**Important**: Do NOT import GSAP or its plugins in JavaScript files. They are accessed as global variables from the window object.

### Deployment

- Code is built using **Vite**
- Built assets are deployed to **Cloudflare Workers**
- Cloudflare serves the minified/bundled JavaScript and CSS files
- Webflow pages reference these Cloudflare-hosted URLs

## Development Workflow

### Building

```bash
npm run build
```

### Development Server

```bash
npm run dev
```

### File Structure

- `src/js/` - JavaScript modules
- `src/styles/` - CSS modules
- `src/*.html` - Demo/test pages for local development
- `docs/` - Documentation for individual features
- `dist/` - Build output (generated by Vite)

## Key Considerations

### JavaScript Files

- Must work in a Webflow environment
- Should not import GSAP or its plugins (use globals)
- Use data attributes for DOM selection (Webflow convention)
- Should be defensive (check for element existence before initializing)

### CSS Files

- Should not conflict with Webflow's generated styles
- Use specific selectors to avoid affecting Webflow elements
- Prefix custom classes when possible

### Testing

- Test locally using demo HTML files in `src/`
- Test in actual Webflow environment before deploying to Cloudflare
- Consider different breakpoints (Webflow uses responsive design)

## Common Patterns

### Module Structure

```javascript
// No GSAP imports needed - use global
function initMyFeature() {
  const elements = document.querySelectorAll('[data-my-feature]');
  if (!elements.length) return;

  // Your code here
  gsap.to(elements, {
    /* animation */
  });
}

// Auto-initialize or export for main.js
document.addEventListener('DOMContentLoaded', () => {
  initMyFeature();
});
```

### Data Attributes

Webflow uses data attributes for functionality:

- `[data-feature="name"]` - Main container
- `[data-feature="element"]` - Child elements
- Classes like `.is-active` for state management

## Notes

- Main entry point: `src/js/main.js`
- Main stylesheet: `src/styles/main.css`
- Build config: `vite.config.js`
- Cloudflare config: `wrangler.toml`
